- 数据库设计（数据流图，ER图，数据字典）2天
  - 类图（需要确定数据字典）1天
- 时序图+通信图？（需要确定类）1天   yl+zwq  （4号24点前）
  - 状态图（构建图？部署图？）1天

现在就行：

- 系统边界和上下文  yl
- 非功能性需求  msb
- 相关术语定义和参考资料 zwq

顺序：

1. 数据库（讨论）+时序图
2. 类图+状态图

讨论目标：

1、确定顶层数据流图     yl

- 实体

  系统管理员、买家、卖家、快递公司、支付机构
- 关联

  买家->系统  商品搜索信息、商品评价

  系统->买家 订单信息、账户信息

  卖家 ————> 系统：商品信息、注册信息

  系统—————>卖家：订单信息、销售信息、账户信息、退货、留言提醒

  卖家<->系统 留言

  系统 ————>支付机构：支付信息
  支付机构—————>系统：支付结果

2、确定一层数据流图框架

- 确定子管理系统

  用户（1）、商品（2）、订单（3）、留言（4）、评价（5）、退货（6）、支付（7）
- 确定数据库

  用户：用户信息（1）

  商品：商品信息（2）+留言信息（3）+用户信息（卖家）

  订单：商品信息+用户信息+订单信息（4）

  留言：留言信息+用户信息+商品信息

  评价：用户信息+评价信息（5）+商品信息（评价）

  退货：退货信息（6）+订单信息

  支付：订单信息

3、确定二层数据流图框架 (3号6点前)

- 确定加工项

  用户：注册+修改+查看+审核	msb

  商品：上架+修改+查询+下架+审核	msb

  订单：生成+查看+修改（地址）+取消+结束+确认收货+填写物流	yl

  留言：留言+回复+留言提醒+删除	yl

  评价：提交+修改+删除+回复	zwq

  退货：提交申请+卖家审核+填写物流+确认货物+结束    zwq

  支付：选择支付方式+第三方支付接口+取消支付 	msb

1. 全局数据流图 MSB
2. ER图 YL

   实体：

   ```
   系统管理员：账号、密码、姓名、昵称、性别
   ```


   ```
   用户：账号、昵称、姓名、身份证号、性别、出生年月、收货地址、联系电话、密码、信誉积分
   ```


   ```
   商品：ID、图片、单价、库存、描述、用户账号、上架时间	（用户账号为外键）
   ```


   ```
   评价：ID、描述、图片、分数、时间    （用户ID、订单ID为外键）123
   ```


   ```
   订单：ID、物流单号、数量、地址、联系电话、时间、是否完成	（买家账号、商品ID为外键）
   ```


   ```
   留言：ID、描述、时间	（用户ID、商品ID、回复留言ID为外键）
   ```


   ```
   退货订单：ID、地址、原因、时间、物流单号、是否完成	（买家ID、订单ID为外键）
   ```


   联系：

   ```
   审核商品：系统管理员、商品（审核结果、时间）（1：N）
   ```


   ```
   审核用户：系统管理员 、用户（审核结果、时间） （1：N）
   ```


   ```
   发表：用户、评价 （1：N）
   ```


   ```
   购买：订单、用户、商品 （N：1：1）
   ```


   ```
   发表：用户、留言（1：N）
   ```


   ```
   退货：用户、退货订单、订单 （1：1：1）
   ```


   ```
   属于：商品、留言（1：N）
   ```


   ```
   属于：7评价、订单（1：1）
   ```


   ```
   回复：被回复留言、回复留言（1：N）
   ```
3. 数据字典 自己写自己的

   ```
   用户（1）
   ```


   ```
   商品（2）
   ```


   ```
   订单（3）
   ```


   ```
   留言（4）
   ```


   ```
   评价（5）
   ```


   ```
   退货（6）
   ```


   ```
   支付（7）
   ```


   这几天的图、文字所有的整合（ZWQ）
4. 状态图

   - ```
     退货订单 zwq
     ```
   - ```
     订单
     ```
5. 类图

## 开发计划

> 前端：写html页面、css、js、表单结构管理和提交
>
> 前后端：路由部分、表单接收与处理、ajax
>
> 后端：数据库管理与交互、类的封装、业务逻辑（函数）编写

1. 用户管理模块

   1. 登陆
   2. 注册
   3. 重置密码

      > 前端：
      >
      > - 确保所有页面的表单可以正常提交
      > - 注册界面参考相关文件进行修改
      > - 忘记密码页面参照注册界面进行修改（邮箱、验证码、新密码、确认密码）
      > - 编写邮箱验证后
      >
      > 后端：
      >
      > - 用户类编写
      >   - 接口
      >     - 创建用户：参数（邮箱、密码、用户名）
      >     - 修改密码：参数（邮箱、密码）
      >     - 邮件验证：参数（邮箱），正常返回验证码，出错返回None
      > - 数据库
      > - 邮件
      >
      > 前后端
      >
      > - 页面导航（蓝图）、提示信息（ajax）
      > - 表单数据检验
      > - 调用后端接口(后端得先写好)
      >
   4. 信息修改
2. 商品管理

   1. 用户上架商品
   2. 商品展示页面
   3. 修改商品信息
   4. 下架商品

   > 前端：
   >
   > - ~~修改导航栏，让页面更加紧凑~~
   > - 添加”我的商品“页面，展示当前用户上架的商品，页面展示：商品id、商品名称、商品单价、商品库存  按钮有：查看（点击后跳转到商品详情页）、修改信息、下架
   > - 整个页面的右下方添加上架商品按钮，点击跳转到商品上架页面
   > - 将展示信息的表放大
   > - 以下拉栏的形式选择页面
   > - 上架页面，表单数据改为：价格、名称、库存、描述、图片
   > - 商品展示部分
   > - 删除顶部“上一页/~”等部分
   > - 调整单价和商品名称顺序，重点突出，去掉颜色和大小选择
   > - 添加留言分栏，留言页面编写（保证有删除功能）
   >
   > 后端：
   >
   > - ~~地址增删改查(对用户查，包含id号,删除地址函数（两个参数：用户id，地址id，删除时验证地址是否属于该用户）)~~
   > - 商品类相关接口的编写（需要对商品进行修改的都要验证用户id）
   >   - 创建商品（参数：用户id，商品所需信息）
   >   - 下架商品（参数：用户id，下架商品id）
   >   - 修改信息（参数：用户id，修改后的商品信息）
   >   - 获取商品信息（参数：商品id）
   > - 留言
   >   - 获取
   >   - 删除
   >   - 回复留言
   > - 数据库图片建表（参考地址，[1,5] 张）
   > - 商品类加名称属性、图片（路径）
   >
   > 前后端：
   >
3. 交易模块

   1. 用户检索商品
   2. 留言功能
   3. 下订单
   4. 查看订单信息
   5. 收货并评价
4. 退货模块
5. 后台管理模块
